{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.initializePayment = initializePayment;\n  exports.verifyPayment = verifyPayment;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  // WARNING: Do not use secret keys in client-side code in production.\n  // This module is for development/demo. In production, proxy these calls\n  // through a secure backend that injects the Authorization header.\n  function initializePayment(_x) {\n    return _initializePayment.apply(this, arguments);\n  }\n  function _initializePayment() {\n    _initializePayment = (0, _asyncToGenerator.default)(function* (_ref) {\n      var amount = _ref.amount,\n        email = _ref.email,\n        callbackUrl = _ref.callbackUrl;\n      var secret = _expoVirtualEnv.env.EXPO_PUBLIC_PAYSTACK_SECRET_KEY;\n      var res = yield fetch('https://api.paystack.co/transaction/initialize', {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${secret}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          amount: Math.round(amount * 100),\n          // in kobo\n          currency: 'NGN',\n          callback_url: callbackUrl || 'choplife://payment-success'\n        })\n      });\n      return res.json();\n    });\n    return _initializePayment.apply(this, arguments);\n  }\n  function verifyPayment(_x2) {\n    return _verifyPayment.apply(this, arguments);\n  }\n  function _verifyPayment() {\n    _verifyPayment = (0, _asyncToGenerator.default)(function* (reference) {\n      var secret = _expoVirtualEnv.env.EXPO_PUBLIC_PAYSTACK_SECRET_KEY;\n      var res = yield fetch(`https://api.paystack.co/transaction/verify/${reference}`, {\n        headers: {\n          Authorization: `Bearer ${secret}`\n        }\n      });\n      return res.json();\n    });\n    return _verifyPayment.apply(this, arguments);\n  }\n});","lineCount":62,"map":[[12,2,5,0,"exports"],[12,9,5,0],[12,10,5,0,"initializePayment"],[12,27,5,0],[12,30,5,0,"initializePayment"],[12,47,5,0],[13,2,23,0,"exports"],[13,9,23,0],[13,10,23,0,"verifyPayment"],[13,23,23,0],[13,26,23,0,"verifyPayment"],[13,39,23,0],[14,2,31,1],[14,6,31,1,"_expoVirtualEnv"],[14,21,31,1],[14,24,31,1,"require"],[14,31,31,1],[14,32,31,1,"_dependencyMap"],[14,46,31,1],[15,2,31,1],[15,6,31,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,42,31,1],[15,45,31,1,"require"],[15,52,31,1],[15,53,31,1,"_dependencyMap"],[15,67,31,1],[16,2,31,1],[16,6,31,1,"_asyncToGenerator"],[16,23,31,1],[16,26,31,1,"_interopDefault"],[16,41,31,1],[16,42,31,1,"_babelRuntimeHelpersAsyncToGenerator"],[16,78,31,1],[17,2,1,0],[18,2,2,0],[19,2,3,0],[20,2,3,0],[20,11,5,22,"initializePayment"],[20,28,5,39,"initializePayment"],[20,29,5,39,"_x"],[20,31,5,39],[21,4,5,39],[21,11,5,39,"_initializePayment"],[21,29,5,39],[21,30,5,39,"apply"],[21,35,5,39],[21,42,5,39,"arguments"],[21,51,5,39],[22,2,5,39],[23,2,5,39],[23,11,5,39,"_initializePayment"],[23,30,5,39],[24,4,5,39,"_initializePayment"],[24,22,5,39],[24,29,5,39,"_asyncToGenerator"],[24,46,5,39],[24,47,5,39,"default"],[24,54,5,39],[24,56,5,7],[24,67,5,7,"_ref"],[24,71,5,7],[24,73,5,72],[25,6,5,72],[25,10,5,42,"amount"],[25,16,5,48],[25,19,5,48,"_ref"],[25,23,5,48],[25,24,5,42,"amount"],[25,30,5,48],[26,8,5,50,"email"],[26,13,5,55],[26,16,5,55,"_ref"],[26,20,5,55],[26,21,5,50,"email"],[26,26,5,55],[27,8,5,57,"callbackUrl"],[27,19,5,68],[27,22,5,68,"_ref"],[27,26,5,68],[27,27,5,57,"callbackUrl"],[27,38,5,68],[28,6,6,2],[28,10,6,8,"secret"],[28,16,6,14],[28,19,6,14,"_expoVirtualEnv"],[28,34,6,14],[28,35,6,14,"env"],[28,38,6,14],[28,39,6,14,"EXPO_PUBLIC_PAYSTACK_SECRET_KEY"],[28,70,6,60],[29,6,7,2],[29,10,7,8,"res"],[29,13,7,11],[29,22,7,20,"fetch"],[29,27,7,25],[29,28,7,26],[29,76,7,74],[29,78,7,76],[30,8,8,4,"method"],[30,14,8,10],[30,16,8,12],[30,22,8,18],[31,8,9,4,"headers"],[31,15,9,11],[31,17,9,13],[32,10,10,6,"Authorization"],[32,23,10,19],[32,25,10,21],[32,35,10,31,"secret"],[32,41,10,37],[32,43,10,39],[33,10,11,6],[33,24,11,20],[33,26,11,22],[34,8,12,4],[34,9,12,5],[35,8,13,4,"body"],[35,12,13,8],[35,14,13,10,"JSON"],[35,18,13,14],[35,19,13,15,"stringify"],[35,28,13,24],[35,29,13,25],[36,10,14,6,"email"],[36,15,14,11],[37,10,15,6,"amount"],[37,16,15,12],[37,18,15,14,"Math"],[37,22,15,18],[37,23,15,19,"round"],[37,28,15,24],[37,29,15,25,"amount"],[37,35,15,31],[37,38,15,34],[37,41,15,37],[37,42,15,38],[38,10,15,40],[39,10,16,6,"currency"],[39,18,16,14],[39,20,16,16],[39,25,16,21],[40,10,17,6,"callback_url"],[40,22,17,18],[40,24,17,20,"callbackUrl"],[40,35,17,31],[40,39,17,35],[41,8,18,4],[41,9,18,5],[42,6,19,2],[42,7,19,3],[42,8,19,4],[43,6,20,2],[43,13,20,9,"res"],[43,16,20,12],[43,17,20,13,"json"],[43,21,20,17],[43,22,20,18],[43,23,20,19],[44,4,21,0],[44,5,21,1],[45,4,21,1],[45,11,21,1,"_initializePayment"],[45,29,21,1],[45,30,21,1,"apply"],[45,35,21,1],[45,42,21,1,"arguments"],[45,51,21,1],[46,2,21,1],[47,2,21,1],[47,11,23,22,"verifyPayment"],[47,24,23,35,"verifyPayment"],[47,25,23,35,"_x2"],[47,28,23,35],[48,4,23,35],[48,11,23,35,"_verifyPayment"],[48,25,23,35],[48,26,23,35,"apply"],[48,31,23,35],[48,38,23,35,"arguments"],[48,47,23,35],[49,2,23,35],[50,2,23,35],[50,11,23,35,"_verifyPayment"],[50,26,23,35],[51,4,23,35,"_verifyPayment"],[51,18,23,35],[51,25,23,35,"_asyncToGenerator"],[51,42,23,35],[51,43,23,35,"default"],[51,50,23,35],[51,52,23,7],[51,63,23,36,"reference"],[51,72,23,45],[51,74,23,47],[52,6,24,2],[52,10,24,8,"secret"],[52,16,24,14],[52,19,24,14,"_expoVirtualEnv"],[52,34,24,14],[52,35,24,14,"env"],[52,38,24,14],[52,39,24,14,"EXPO_PUBLIC_PAYSTACK_SECRET_KEY"],[52,70,24,60],[53,6,25,2],[53,10,25,8,"res"],[53,13,25,11],[53,22,25,20,"fetch"],[53,27,25,25],[53,28,25,26],[53,74,25,72,"reference"],[53,83,25,81],[53,85,25,83],[53,87,25,85],[54,8,26,4,"headers"],[54,15,26,11],[54,17,26,13],[55,10,27,6,"Authorization"],[55,23,27,19],[55,25,27,21],[55,35,27,31,"secret"],[55,41,27,37],[56,8,28,4],[57,6,29,2],[57,7,29,3],[57,8,29,4],[58,6,30,2],[58,13,30,9,"res"],[58,16,30,12],[58,17,30,13,"json"],[58,21,30,17],[58,22,30,18],[58,23,30,19],[59,4,31,0],[59,5,31,1],[60,4,31,1],[60,11,31,1,"_verifyPayment"],[60,25,31,1],[60,26,31,1,"apply"],[60,31,31,1],[60,38,31,1,"arguments"],[60,47,31,1],[61,2,31,1],[62,0,31,1],[62,3]],"functionMap":{"names":["<global>","initializePayment","verifyPayment"],"mappings":"AAA;OCI;CDgB;OEE"},"hasCjsExports":false},"type":"js/module"}]}